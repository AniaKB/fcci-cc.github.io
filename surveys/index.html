<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FreeCodeCamp Indy Surveys</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script src="/mixin.js"></script>
  </head>
  <body>
    <div id="app" class="wrapper">
      <!-- THEME PICKER -->
      <link
        rel="stylesheet"
        :href="'https://cdn.jsdelivr.net/npm/water.css@2/out/' + mode + '.min.css'"
      >
      <button
        class="theme-toggle"
        :aria-pressed="String(mode === 'light')"
        aria-label="Toggle light/dark mode"
        @click="toggleMode"
      >
        <svg class="theme-svg" focusable="false">
          <use class="theme-dark" xlink:href="#icon-mode-dark"></use>
          <use class="theme-light" xlink:href="#icon-mode-light"></use>
        </svg>
      </button>
      <svg class="visually-hidden">
        <defs>
          <symbol viewBox="0 0 960 960" id="icon-mode-dark">
            <path d="M340 41C47 129-112 544 147 798c207 204 515 205 713-62-166 6-347-43-455-189-109-147-80-372-65-506z" />
            <path d="M870 331l-12 102 93 43-101 20-12 102-50-90-101 20 70-75-50-90 93 43 70-75zM522 300l23 57 62-5-47 40 23 57-52-32-48 40 15-60-52-33 61-4 15-60zM744 16l12 89 89 16-81 39 12 90-62-65-81 39 42-80-62-65 89 16 42-79z" />
          </symbol>
          <symbol viewBox="0 0 960 960" id="icon-mode-light">
            <circle cx="479.5" cy="480.5" r="242" />
            <path d="M480 800c22 0 40 18 40 40v80a40 40 0 01-80 0v-80c0-22 18-40 40-40zm480-320c0 22-18 40-40 40h-80a40 40 0 010-80h80c22 0 40 18 40 40zM706 763l57 56a40 40 0 1056-56l-56-57a40 40 0 10-57 57zm-509 56l57-56a40 40 0 10-57-57l-56 57a40 40 0 1056 56zm-77-379a40 40 0 010 80H40a40 40 0 010-80h80zm21-243l56 57a40 40 0 1057-57l-57-56a40 40 0 10-56 56zm622 57l56-57a40 40 0 10-56-56l-57 56a40 40 0 1057 57zM440 40v80a40 40 0 0080 0V40a40 40 0 00-80 0z" />
          </symbol>
        </defs>
      </svg>
      
      <header>
        <h1>FreeCodeCamp Indy Surveys</h1>

        <button @click="navigateTo(currentPoll)">
          Take the latest 2022 Survey
        </button>
      </header>

      <hr>

      <h2>Past Survey Results</h2>

      <div
        v-for="(result, index) in results"
        :key="'result' + index"
        class="img-container"
      >
        <h3>Results from {{ result.date }}</h3>
        <a :href="result.graph">
          <img
            :src="result.graph"
            :alt="'Chart showing poll results from ' + result.date + '.'"
          >
        </a>
      </div>
    </div>

    <script>
      const app = new Vue({
        mixins: [reusableVueCode],
        data: function () {
          return {
            currentPoll: 'https://docs.google.com/forms/d/e/1FAIpQLScE-aFDtW2xB0IHmIrZH1XJEpxUjBw0JtITofCouRXETZemww/viewform',
            results: [
              // { graph: '024.png', date: 'December 28th 2022' },
              // { graph: '023.png', date: 'November 23rd 2022' },
              // { graph: '022.png', date: 'October 26th 2022' },
              // { graph: '021.png', date: 'September 28th 2022' },
              // { graph: '020.png', date: 'August 24th 2022' },
              // { graph: '019.png', date: 'July 27th 2022' },
              { graph: '018.png', date: 'June 22nd 2022' },
              { graph: '017.png', date: 'April 27th 2022' },
              { graph: '016.png', date: 'March 23rd 2022' },
              { graph: '015.png', date: 'February 23rd 2022' },
              { graph: '014.png', date: 'January 26th 2022' },
              { graph: '013.png', date: 'November 12th 2018' },
              { graph: '012.png', date: 'October 22nd 2018' },
              { graph: '011.png', date: 'August 22nd 2018' },
              { graph: '010.png', date: 'June 19th 2017' },
              { graph: '009.png', date: 'May 25th 2017' },
              { graph: '008.png', date: 'April 12th 2017' },
              { graph: '007.png', date: 'April 5th 2017' },
              { graph: '006.png', date: 'March 2017' },
              { graph: '005.png', date: 'February 26th 2017' },
              { graph: '004.png', date: 'February 6th 2017' },
              { graph: '003.png', date: 'January 11th 2017' },
              { graph: '002.png', date: 'December 7th 2016' },
              { graph: '001.png', date: 'October 17th 2016' },
            ]
          };
        },
        methods: {
          navigateTo: function (url) {
            window.location = url;
          }
        }
      });
    </script>
    <link rel="stylesheet" href="../styles.css">
  </body>
</html>
